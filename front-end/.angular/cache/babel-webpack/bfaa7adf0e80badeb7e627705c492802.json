{"ast":null,"code":"import _asyncToGenerator from \"F:/Laboratoire/Angular/Angular/front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { Validators } from '@angular/forms';\nimport { countries } from '../_data/country-data-store';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../_services/auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../_services/property.service\";\nexport class ClientPropertyComponent {\n  constructor(formBuilder, authService, router, propertyService) {\n    this.formBuilder = formBuilder;\n    this.authService = authService;\n    this.router = router;\n    this.propertyService = propertyService;\n    this.title = \"AJOUTER UNE PROPRIETE\";\n    this.message = \"\";\n    this.countryList = countries;\n    this.isFirst = false;\n    this.inscriptionForm = this.formBuilder.group({\n      Titre: ['', [Validators.required]],\n      PetiteDescription: ['', [Validators.required]],\n      LongueDescription: ['', [Validators.required]],\n      Pays: ['', [Validators.required]],\n      Ville: ['', [Validators.required]],\n      Rue: ['', [Validators.required]],\n      Num: ['', [Validators.required]],\n      CodePostal: ['', [Validators.required]],\n      PictureUrl: ['', [Validators.required]],\n      Capacite: ['', [Validators.required]],\n      SDB: ['', [Validators.required]],\n      WC: ['', [Validators.required]],\n      Jardin: [''],\n      Piscine: [''],\n      MachineALaver: [''],\n      Internet: [''],\n      AnimauxAdmis: [''],\n      Prix: ['', [Validators.required]],\n      Assurance: ['']\n    });\n  }\n\n  ngOnInit() {}\n\n  redirectToHome() {\n    this.router.navigateByUrl(\"\");\n  }\n\n  registerProperty(form) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      form.value.Attente = true;\n      form.value.proprioId = _this.authService.getUser()._id;\n      if (form.value.Jardin === \"\") form.value.Jardin = false;\n      if (form.value.Piscine === \"\") form.value.Piscine = false;\n      if (form.value.MachineALaver === \"\") form.value.MachineALaver = false;\n      if (form.value.Internet === \"\") form.value.Internet = false;\n      if (form.value.AnimauxAdmis === \"\") form.value.AnimauxAdmis = false;\n      if (form.value.Assurance === \"\") form.value.Assurance = false;\n\n      _this.propertyService.register(form.value).then(data => {\n        if (data) _this.message = \"Vous avez bien ajouté cette propriété !\";\n      }).catch(error => {\n        if (error) _this.message = \"Erreur lors de l'ajout.. Veuillez réessayer !\";\n      });\n    })();\n  }\n\n}\n\nClientPropertyComponent.ɵfac = function ClientPropertyComponent_Factory(t) {\n  return new (t || ClientPropertyComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.PropertyService));\n};\n\nClientPropertyComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ClientPropertyComponent,\n  selectors: [[\"app-client-property\"]],\n  decls: 2,\n  vars: 0,\n  template: function ClientPropertyComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"client-property works!\");\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjbGllbnQtcHJvcGVydHkuY29tcG9uZW50LnNjc3MifQ== */\"]\n});","map":{"version":3,"sources":["F:/Laboratoire/Angular/Angular/front-end/src/app/client-property/client-property.component.ts"],"names":["Validators","countries","i0","i1","i2","i3","i4","ClientPropertyComponent","constructor","formBuilder","authService","router","propertyService","title","message","countryList","isFirst","inscriptionForm","group","Titre","required","PetiteDescription","LongueDescription","Pays","Ville","Rue","Num","CodePostal","PictureUrl","Capacite","SDB","WC","Jardin","Piscine","MachineALaver","Internet","AnimauxAdmis","Prix","Assurance","ngOnInit","redirectToHome","navigateByUrl","registerProperty","form","value","Attente","proprioId","getUser","_id","register","then","data","catch","error","ɵfac","ClientPropertyComponent_Factory","t","ɵɵdirectiveInject","FormBuilder","AuthService","Router","PropertyService","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","template","ClientPropertyComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","styles"],"mappings":"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","sourcesContent":["import { Validators } from '@angular/forms';\r\nimport { countries } from '../_data/country-data-store';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/forms\";\r\nimport * as i2 from \"../_services/auth.service\";\r\nimport * as i3 from \"@angular/router\";\r\nimport * as i4 from \"../_services/property.service\";\r\nexport class ClientPropertyComponent {\r\n    constructor(formBuilder, authService, router, propertyService) {\r\n        this.formBuilder = formBuilder;\r\n        this.authService = authService;\r\n        this.router = router;\r\n        this.propertyService = propertyService;\r\n        this.title = \"AJOUTER UNE PROPRIETE\";\r\n        this.message = \"\";\r\n        this.countryList = countries;\r\n        this.isFirst = false;\r\n        this.inscriptionForm = this.formBuilder.group({\r\n            Titre: ['', [Validators.required]],\r\n            PetiteDescription: ['', [Validators.required]],\r\n            LongueDescription: ['', [Validators.required]],\r\n            Pays: ['', [Validators.required]],\r\n            Ville: ['', [Validators.required]],\r\n            Rue: ['', [Validators.required]],\r\n            Num: ['', [Validators.required]],\r\n            CodePostal: ['', [Validators.required]],\r\n            PictureUrl: ['', [Validators.required]],\r\n            Capacite: ['', [Validators.required]],\r\n            SDB: ['', [Validators.required]],\r\n            WC: ['', [Validators.required]],\r\n            Jardin: [''],\r\n            Piscine: [''],\r\n            MachineALaver: [''],\r\n            Internet: [''],\r\n            AnimauxAdmis: [''],\r\n            Prix: ['', [Validators.required]],\r\n            Assurance: [''],\r\n        });\r\n    }\r\n    ngOnInit() {\r\n    }\r\n    redirectToHome() {\r\n        this.router.navigateByUrl(\"\");\r\n    }\r\n    async registerProperty(form) {\r\n        form.value.Attente = true;\r\n        form.value.proprioId = this.authService.getUser()._id;\r\n        if (form.value.Jardin === \"\")\r\n            form.value.Jardin = false;\r\n        if (form.value.Piscine === \"\")\r\n            form.value.Piscine = false;\r\n        if (form.value.MachineALaver === \"\")\r\n            form.value.MachineALaver = false;\r\n        if (form.value.Internet === \"\")\r\n            form.value.Internet = false;\r\n        if (form.value.AnimauxAdmis === \"\")\r\n            form.value.AnimauxAdmis = false;\r\n        if (form.value.Assurance === \"\")\r\n            form.value.Assurance = false;\r\n        this.propertyService.register(form.value).then(data => {\r\n            if (data)\r\n                this.message = \"Vous avez bien ajouté cette propriété !\";\r\n        }).catch(error => {\r\n            if (error)\r\n                this.message = \"Erreur lors de l'ajout.. Veuillez réessayer !\";\r\n        });\r\n    }\r\n}\r\nClientPropertyComponent.ɵfac = function ClientPropertyComponent_Factory(t) { return new (t || ClientPropertyComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.PropertyService)); };\r\nClientPropertyComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ClientPropertyComponent, selectors: [[\"app-client-property\"]], decls: 2, vars: 0, template: function ClientPropertyComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"p\");\r\n        i0.ɵɵtext(1, \"client-property works!\");\r\n        i0.ɵɵelementEnd();\r\n    } }, styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJjbGllbnQtcHJvcGVydHkuY29tcG9uZW50LnNjc3MifQ== */\"] });\r\n"]},"metadata":{},"sourceType":"module"}